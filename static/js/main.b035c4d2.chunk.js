(this["webpackJsonpflights-management"]=this["webpackJsonpflights-management"]||[]).push([[0],{376:function(e,t,a){},377:function(e,t,a){},395:function(e,t,a){},396:function(e,t,a){},398:function(e,t,a){},638:function(e,t){},640:function(e,t){},651:function(e,t){},653:function(e,t){},680:function(e,t){},682:function(e,t){},683:function(e,t){},688:function(e,t){},690:function(e,t){},709:function(e,t){},721:function(e,t){},724:function(e,t){},781:function(e,t,a){},785:function(e,t,a){},786:function(e,t,a){},789:function(e,t,a){},790:function(e,t,a){},791:function(e,t,a){},792:function(e,t,a){},793:function(e,t,a){},794:function(e,t,a){},795:function(e,t,a){},796:function(e,t,a){},799:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(122),s=a.n(c),i=(a(376),a(10)),o=(a(377),a(66)),l=a.n(o),u=a(36),d=a.n(u),h=a(65),j=(a(395),a(804)),b=a(364),g=a(801),p=a(802),f=(a(396),a.p+"static/media/airplane6.800b13f7.jpg"),O=a(1);var x=function(e){var t=e.img,a=e.textLocation,n=e.title,r=e.text,c={"justify-content":a,"background-image":"url(".concat(t,")")};return Object(O.jsx)("div",{className:"head-container",style:c,children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h1",{children:n}),Object(O.jsx)("p",{children:r})]})})},m=a.p+"static/media/search1.993f2de3.jpg";a(398);var v=function(e){var t=e.activeUser,a=e.country,r=e.city,c=e.dates,s=e.carrier,o=e.cost,l=(e.direct,e.cityData),u=e.Save,d=e.onSave,h=e.index,j=Object(n.useState)("https://www.esky.eu/_fe/img/city_"+l+"_horizontal_0.jpg"),g=Object(i.a)(j,2),p=g[0],f=g[1],x=Object(n.useState)(u),m=Object(i.a)(x,2),v=m[0],y=m[1],w=l;return console.log("cityData",l),Object(O.jsxs)("div",{className:"c-search-result",children:[Object(O.jsx)(b.a,{sm:12,md:3,children:Object(O.jsx)("img",{onError:function(){p==="https://www.esky.eu/_fe/img/city_"+w+"_horizontal_0.jpg"?f("https://static1.eskypartners.com/deals/"+w+"_1_SquareSmall_290_290.jpg"):p==="https://static1.eskypartners.com/deals/"+w+"_1_SquareSmall_290_290.jpg"?f("https://static1.eskypartners.com/deals/"+w+"_0_Rectangle_610_290.jpg"):p==="https://static1.eskypartners.com/deals/"+w+"_0_Rectangle_610_290.jpg"&&f("https://static1.eskypartners.com/deals/CVG_0_Rectangle_610_290.jpg")},src:p,alt:w})}),Object(O.jsx)(b.a,{sm:12,md:9,children:Object(O.jsxs)("div",{className:"search-data",children:[Object(O.jsxs)("div",{children:[Object(O.jsxs)("h4",{children:[r,", ",a]}),t&&Object(O.jsx)("div",{id:v?"1":"0",onClick:function(e){d(e),y(!v)},"data-myattr":h,children:v?Object(O.jsx)("span",{children:"\u2665"}):Object(O.jsx)("span",{children:"\u2661"})})]}),Object(O.jsxs)("p",{class:"flight-left",children:[Object(O.jsx)("svg",{width:"25px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(O.jsx)("path",{d:"M17.8 20.1l.6-.6c.2-.2.3-.5.2-.8l-2.2-9.3 4.1-4.2c.5-.5.5-1.3 0-1.9-.5-.5-1.4-.5-1.9 0l-4.2 4.1-9.1-2c-.3-.1-.6 0-.8.2l-.6.6c-.4.4-.3 1.1.2 1.4l7.2 3.2-3.7 3.7-2.3-.8c-.3-.1-.6 0-.8.2L3 15.2l4.2 1.6L8.8 21l1.3-1.5c.2-.2.3-.6.2-.8l-.8-2.3 3.7-3.7 3.2 7.2c.3.5 1 .6 1.4.2z"})})," ",c[0]]}),Object(O.jsxs)("p",{class:"flight-return",children:[Object(O.jsx)("svg",{width:"25px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(O.jsx)("path",{d:"M17.8 20.1l.6-.6c.2-.2.3-.5.2-.8l-2.2-9.3 4.1-4.2c.5-.5.5-1.3 0-1.9-.5-.5-1.4-.5-1.9 0l-4.2 4.1-9.1-2c-.3-.1-.6 0-.8.2l-.6.6c-.4.4-.3 1.1.2 1.4l7.2 3.2-3.7 3.7-2.3-.8c-.3-.1-.6 0-.8.2L3 15.2l4.2 1.6L8.8 21l1.3-1.5c.2-.2.3-.6.2-.8l-.8-2.3 3.7-3.7 3.2 7.2c.3.5 1 .6 1.4.2z"})})," ",c[1]]}),"  ",Object(O.jsxs)("p",{children:[s[0],"  ,",s[1]]}),Object(O.jsxs)("p",{children:[o," \u20aa"]})]})})]})},y=a(16),w=a.n(y),C=a(809);a(781);var k=function(e){var t=e.placeholder,a=e.searchText,n=e.onSearchChange,r=e.results,c=e.onResultSelected;return Object(O.jsxs)("div",{className:"c-searchbox",children:[Object(O.jsx)(j.a.Control,{type:"text",placeholder:t,value:a,onChange:function(e){return n(e.target.value)}}),Object(O.jsx)(C.a,{className:"result-box",children:r.map((function(e,t){return Object(O.jsx)(C.a.Item,{action:!0,onClick:function(){return c(e)},children:e})}))})]})};var I=function(e){var t,a=e.activeUser,r=e.cities,c=e.countries,s=e.citiesValue,o=e.countriesValue,u=Object(n.useState)("il"),f=Object(i.a)(u,2),y=f[0],C=f[1],I=Object(n.useState)("us"),D=Object(i.a)(I,2),L=D[0],S=D[1],A=Object(n.useState)(""),N=Object(i.a)(A,2),P=N[0],T=N[1],M=Object(n.useState)("2021-06"),U=Object(i.a)(M,2),q=U[0],E=U[1],B=Object(n.useState)(!1),F=Object(i.a)(B,2),G=F[0],Q=F[1],R=Object(n.useState)(null),z=Object(i.a)(R,2),V=z[0],K=z[1],H=Object(n.useState)([]),J=Object(i.a)(H,2),W=J[0],X=J[1],Z=Object(n.useState)([]),Y=Object(i.a)(Z,2),_=Y[0],$=Y[1];if(""===P){var ee=new Date,te=ee.getDate(),ae=ee.getMonth()+1,ne=ee.getFullYear();te<10&&(te="0"+te),ae<10&&(ae="0"+ae),console.log(ne+"-"+ae+"-"+te),T(ne+"-"+ae+"-"+te)}var re=new Map,ce=new Map;V&&(V.Places.forEach((function(e){re.set(e.PlaceId,e)})),console.log("map place",re),V.Carriers.forEach((function(e){ce.set(e.CarrierId,e.Name)})),console.log("map Carriers",ce),t=G?V.Quotes.filter((function(e,t){return function(e,t){return e.Direct}(e)})):V.Quotes,console.log("filteredResults",t),console.log("filteredResults count",t.length),console.log(G));var se=new Map;function ie(e){var a=e.currentTarget.getAttribute("id"),n=e.currentTarget.getAttribute("data-myattr");if(0==a){var c=t[n],s=new(w.a.Object.extend("flightsData"));console.log("THIS IS TEMP TEST",c),console.log("THIS IS TEMP TEST",n),s.set("city",re.get(c.OutboundLeg.DestinationId).CityName),s.set("cityId",r.get(re.get(c.OutboundLeg.DestinationId).CityName).IataCode),s.set("country",re.get(c.OutboundLeg.DestinationId).CountryName),s.set("departureDate",new Date(c.OutboundLeg.DepartureDate)),s.set("returnDate",new Date(c.InboundLeg.DepartureDate)),s.set("sourcePlace",V.Places[0].CityName?V.Places[0].CityName:V.Places[0].Name),s.set("cost",c.MinPrice),s.set("direct",c.Direct),s.set("carriers",[ce.get(c.OutboundLeg.CarrierIds[0]),ce.get(c.InboundLeg.CarrierIds[0])]),s.set("userId",w.a.User.current()),s.save().then((function(e){console.log("new flightsData saved!",e),se.set(n,e.id)}),(function(e){console.error("Error while creating flightsData: ",e)}))}else{var i=se.get(n);Object(h.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new w.a.Query("flightsData"),e.prev=1,e.next=4,t.get(i);case 4:return a=e.sent,e.prev=5,e.next=8,a.destroy();case 8:n=e.sent,console.log("Deleted ParseObject",n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.error("Error while deleting ParseObject",e.t0);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(1),console.error("Error while retrieving ParseObject",e.t1);case 20:case"end":return e.stop()}}),e,null,[[1,17],[5,12]])})))()}}return Object(O.jsxs)("div",{className:"p-search-flight",children:[Object(O.jsx)(x,{img:m,textLocation:"flex-start",title:"Search for cheapest flights with Sky Flight",text:"Search and compare hundreds of flights all in one place. Find the cheapest months and dates to fly"}),Object(O.jsxs)(j.a,{children:[Object(O.jsxs)(j.a.Row,{className:"holder",children:[Object(O.jsxs)(b.a,{md:3,sm:6,children:[Object(O.jsx)(j.a.Label,{for:"currency",children:"From"}),Object(O.jsx)(k,{placeholder:"Country, City or airport",searchText:y,onSearchChange:function(e){C(e);var t=[];X(t),e?Object(h.a)(d.a.mark((function a(){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s.forEach((function(a){return a.includes(e)&&t.push(a+" ,"+r.get(a).Country)})),o.forEach((function(a){return a.includes(e)&&t.push(a)})),console.log("resultSuggest",t);case 3:case"end":return a.stop()}}),a)})))():X([])},results:W,onResultSelected:function(e){C(e),X([])}})]}),Object(O.jsxs)(b.a,{md:3,sm:6,children:[Object(O.jsx)(j.a.Label,{for:"currency",children:"To"}),Object(O.jsx)(k,{placeholder:"Country, City or airport",searchText:L,onSearchChange:function(e){S(e);var t=[];$(t),e?Object(h.a)(d.a.mark((function a(){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s.forEach((function(a){return a.includes(e)&&t.push(a+" ,"+r.get(a).Country)})),o.forEach((function(a){return a.includes(e)&&t.push(a)})),console.log("resultSuggest",t);case 3:case"end":return a.stop()}}),a)})))():$([])},results:_,onResultSelected:function(e){S(e),$([])}})]}),Object(O.jsxs)(b.a,{md:3,sm:6,children:[Object(O.jsx)(j.a.Label,{for:"currency",children:"Departure date"}),Object(O.jsx)(j.a.Control,{placeholder:"",value:P,onChange:function(e){return T(e.target.value)}})]}),Object(O.jsxs)(b.a,{md:3,sm:6,children:[Object(O.jsx)(j.a.Label,{for:"currency",children:"Return date"}),Object(O.jsx)(j.a.Control,{placeholder:"InBoundPartialDate",value:q,onChange:function(e){return E(e.target.value)}})]})]}),Object(O.jsxs)(j.a.Row,{children:[Object(O.jsx)(b.a,{sm:6,children:Object(O.jsx)(j.a.Check,{onClick:function(){return Q(!G)},type:"checkbox",id:"autoSizingCheck",className:"mb-2",label:"Direct Flight"})}),Object(O.jsx)(b.a,{sm:6,children:Object(O.jsx)(g.a,{onClick:function(){var e=r.get(y)?r.get(y).IataCode.toLowerCase():c.get(y)?c.get(y).Id.toLowerCase():"",t=r.get(L)?r.get(L).IataCode.toLowerCase():c.get(L)?c.get(L).Id.toLowerCase():"";if(console.log("originPlace",e),console.log("destinationPlace",t),e&&t){var a={method:"GET",url:"https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsequotes/v1.0/il/ils/il/"+e+"/"+t+"/"+P+"/"+q,headers:{"x-rapidapi-key":"cdc00ae67amsh7ae44a7423a7a49p12b1aejsn6bd7ce98384d","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com"}};l.a.request(a).then((function(e){console.log("test",e.data),K(e.data)})).catch((function(e){console.error(e)}))}},children:"Search"})})]})]}),Object(O.jsx)("p",{children:V&&t?"Number of results: "+t.length:(null===V||void 0===V?void 0:V.length)>0?"no results":""}),Object(O.jsx)("div",{className:"results-holder",children:V&&t?t.map((function(e,t){return Object(O.jsx)(p.a,{children:Object(O.jsx)(v,{country:re.get(e.OutboundLeg.DestinationId).CountryName,city:re.get(e.OutboundLeg.DestinationId).CityName,originCity:V.Places[0].CityName?V.Places[0].CityName:V.Places[0].Name,dates:[e.OutboundLeg.DepartureDate,e.InboundLeg.DepartureDate],carrier:[ce.get(e.OutboundLeg.CarrierIds[0]),ce.get(e.InboundLeg.CarrierIds[0])],cost:e.MinPrice,direct:e.Direct,cityData:r.get(re.get(e.OutboundLeg.DestinationId).CityName).IataCode,Save:!1,onSave:ie,index:t,activeUser:a},t)})})):""})]})},D=(a(785),a(23));a(786);var L=function(e){var t=e.onCardClick,a=e.title,n=e.text;return Object(O.jsx)(b.a,{md:12,lg:4,children:Object(O.jsxs)("div",{className:"article-container container",onClick:function(){return t()},children:[Object(O.jsx)("h3",{children:a}),Object(O.jsx)("p",{children:n})]})})};var S=function(e){var t=e.activeUser,a=Object(n.useState)(null),r=Object(i.a)(a,2),c=r[0],s=r[1];if(c)return Object(O.jsx)(D.a,{to:c});function o(e){s(e)}var l=t?t.username.charAt(0).toUpperCase()+t.username.slice(1)+" ":"";return Object(O.jsxs)("div",{className:"p-home-page",children:[Object(O.jsx)(x,{img:f,textLocation:"center",title:l+"Welcome to Sky Flight",text:"Get inspiration, and plan and book your whole trip \u2013 we're here to make it all super easy,\r wherever you are. find the best flight prices and amazing discounts.\r Here, you can explore everything the travel industry has to offer. And there are no booking fees or hidden charges \u2013 just the best prices.\r Let the journey begin"}),Object(O.jsxs)(p.a,{children:[Object(O.jsx)(L,{onCardClick:function(){return o(t?"/deals":"/login")},title:"Top Deals",text:"See where you can travel to right now and find the best deals across thousands of flights"}),Object(O.jsx)(L,{onCardClick:function(){return o("/search-flight")},title:"Search Flight",text:"Search and compare hundreds of flights all in one place to find the great prices available"}),Object(O.jsx)(L,{onCardClick:function(){return o(t?"/my-fav-flights":"/login")},title:"My Flights",text:"Want to look but not ready to book? No problem. We have a 'saved flights' setting where you can 'star' a flight you like"})]})]})};a(789);var A=function(e){return Object(O.jsx)("div",{children:"Error 404 - Page not found"})},N=a(366),P=(a(790),a(179)),T=function e(t){Object(P.a)(this,e),this.id=t.id,this.city=t.get("city"),this.cityId=t.get("cityId"),this.country=t.get("country"),this.departureDate=t.get("departureDate"),this.returnDate=t.get("returnDate"),this.sourcePlace=t.get("sourcePlace"),this.cost=t.get("cost"),this.direct=t.get("direct"),this.carriers=t.get("carriers")};var M=function(e){var t=e.activeUser,a=Object(n.useState)(null),r=Object(i.a)(a,2),c=r[0],s=r[1];if(Object(n.useEffect)((function(){var e=[],t=w.a.Object.extend("flightsData"),a=new w.a.Query(t);a.equalTo("userId",w.a.User.current()),a.find().then((function(t){var a,n=Object(N.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value;e.push(new T(r))}}catch(c){n.e(c)}finally{n.f()}s(e)}),(function(e){console.error("Error while fetching flightsData",e),console.log("you failed to get data from Parse")}))}),[]),console.log("my flights",c),!t)return Object(O.jsx)(D.a,{to:"/"});var o={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,timeZone:"Asia/Jerusalem"};function l(e){console.log(e.currentTarget.getAttribute("id")),console.log(e.currentTarget.getAttribute("data-myattr"));var t=e.currentTarget.getAttribute("data-myattr"),a=e.currentTarget.getAttribute("id"),n=c[t];if(console.log("my flight data DATA",n),1==a){var r=n.id;Object(h.a)(d.a.mark((function e(){var a,n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new w.a.Query("flightsData"),e.prev=1,e.next=4,a.get(r);case 4:return n=e.sent,e.prev=5,e.next=8,n.destroy();case 8:i=e.sent,console.log("Deleted ParseObject",i),s([].concat(c.splice(t,1))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.error("Error while deleting ParseObject",e.t0);case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(1),console.error("Error while retrieving ParseObject",e.t1);case 21:case"end":return e.stop()}}),e,null,[[1,18],[5,13]])})))()}}return Object(O.jsxs)("div",{className:"c-my-flights",children:[Object(O.jsx)("h1",{children:"My Flights:"}),Object(O.jsx)("div",{className:"results-holder",children:c?c.map((function(e,a){return Object(O.jsx)(p.a,{children:Object(O.jsx)(v,{country:e.country,city:e.city,originCity:e.sourcePlace,dates:[new Intl.DateTimeFormat("default",o).format(e.departureDate),new Intl.DateTimeFormat("default",o).format(e.returnDate)],carrier:e.carriers,cost:e.cost,direct:e.direct,cityData:e.cityId,Save:!0,onSave:l,index:a,activeUser:t},a)})})):(null===c||void 0===c?void 0:c.length)>0?"Loading...":""})]})};a(805),a(791);a(792);var U=function(e){var t=e.index,a=e.country,r=e.city,c=(e.cityId,e.cost),s=(e.FlightObj,e.cityData),o=e.Save,l=e.onSave,u=e.type,d=Object(n.useState)(o),h=Object(i.a)(d,2),j=h[0],b=h[1],g={"background-image":"url('https://www.esky.eu/_fe/img/city_"+s.IataCode+"_horizontal_0.jpg')"};return Object(O.jsx)("div",{className:"c-result-card",children:Object(O.jsxs)("div",{style:g,children:[Object(O.jsxs)("div",{className:"handle-save",children:[Object(O.jsx)("p",{children:a}),Object(O.jsx)("div",{id:j?"1":"0",onClick:function(e){l(e),b(!j)},name:u,"data-myattr":t,children:j?Object(O.jsx)("span",{children:"\u2665"}):Object(O.jsx)("span",{children:"\u2661"})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{children:r}),Object(O.jsxs)("h4",{children:[c," \u20aa"]}),Object(O.jsx)("p",{children:"Choose the departure place"})]}),Object(O.jsx)("div",{className:"dark-background"})]})})},q=(a(793),a.p+"static/media/deals.27dbd15c.jpg");var E=function(e){var t=e.activeUser,a=e.deals,n=e.month,r=e.citiesList;if(!t)return Object(O.jsx)(D.a,{to:"/"});var c,s=[];function i(e,t){return!(s.includes(e.OutboundLeg.DestinationId)||s.length>11)&&(s.push(e.OutboundLeg.DestinationId),console.log("INDEX",t),!0)}var o,l=new Map,u=new Map,j=new Map,g=new Map;a&&n&&(a.Places.forEach((function(e){l.set(e.PlaceId,e)})),console.log("map place",l),console.log("Place",l.get(1228).Name),a.Carriers.forEach((function(e){u.set(e.CarrierId,e.Name)})),console.log("map Carriers",u),c=a.Quotes.filter((function(e,t){return i(e,t)})),n.Places.forEach((function(e){j.set(e.PlaceId,e)})),console.log("map place month",j),n.Carriers.forEach((function(e){g.set(e.CarrierId,e.Name)})),s=[],o=n.Quotes.filter((function(e,t){return i(e,t)})),console.log("original json",a),console.log("filter json",c),console.log("filter month json",o));var f=new Map;function m(e){var t=e.currentTarget.getAttribute("id"),n=e.currentTarget.getAttribute("data-myattr"),s=e.currentTarget.getAttribute("name");if(console.log(s),0==t){var i="regular"===s?c[n]:o[n],j=new(w.a.Object.extend("flightsData"));console.log("THIS IS TEMP TEST",i),console.log("THIS IS TEMP TEST",n),j.set("city",l.get(i.OutboundLeg.DestinationId).CityName),j.set("cityId",r.get(l.get(i.OutboundLeg.DestinationId).CityName).IataCode),j.set("country",l.get(i.OutboundLeg.DestinationId).CountryName),j.set("departureDate",new Date(i.OutboundLeg.DepartureDate)),j.set("returnDate",new Date(i.InboundLeg.DepartureDate)),j.set("sourcePlace",a.Places[0].CityName?a.Places[0].CityName:a.Places[0].Name),j.set("cost",i.MinPrice),j.set("direct",i.Direct),j.set("carriers",[u.get(i.OutboundLeg.CarrierIds[0]),u.get(i.InboundLeg.CarrierIds[0])]),j.set("userId",w.a.User.current()),j.save().then((function(e){console.log("new flightsData saved!",e),f.set(n,e.id)}),(function(e){console.error("Error while creating flightsData: ",e)}))}else{var b=f.get(n);Object(h.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new w.a.Query("flightsData"),e.prev=1,e.next=4,t.get(b);case 4:return a=e.sent,e.prev=5,e.next=8,a.destroy();case 8:n=e.sent,console.log("Deleted ParseObject",n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.error("Error while deleting ParseObject",e.t0);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(1),console.error("Error while retrieving ParseObject",e.t1);case 20:case"end":return e.stop()}}),e,null,[[1,17],[5,12]])})))()}}return Object(O.jsxs)("div",{className:"p-deals",children:[Object(O.jsx)(x,{img:q,textLocation:"flex-start",title:"Plan and grab the best deals",text:"See where you can travel to right now and find the best deals across thousands of flights"}),Object(O.jsxs)("div",{className:"custom-container",children:[Object(O.jsx)("h2",{children:"The best deals"}),Object(O.jsx)(p.a,{children:c&&r?c.map((function(e,t){return Object(O.jsx)(b.a,{md:6,lg:4,children:Object(O.jsx)(U,{index:t,country:l.get(e.OutboundLeg.DestinationId).CountryName,city:l.get(e.OutboundLeg.DestinationId).CityName,cityId:l.get(e.OutboundLeg.DestinationId).CityId,cost:e.MinPrice,FlightObj:e,cityData:r.get(l.get(e.OutboundLeg.DestinationId).CityName),onSave:m,save:!1,type:"regular"},t)})})):Object(O.jsx)("p",{children:"loading..."})}),Object(O.jsx)("h2",{children:"The month's best deals"}),Object(O.jsx)(p.a,{children:o&&r?o.map((function(e,t){return Object(O.jsx)(b.a,{md:6,lg:4,children:Object(O.jsx)(U,{index:t,country:j.get(e.OutboundLeg.DestinationId).CountryName,city:j.get(e.OutboundLeg.DestinationId).CityName,cityId:j.get(e.OutboundLeg.DestinationId).CityId,cost:e.MinPrice,FlightObj:e,cityData:r.get(j.get(e.OutboundLeg.DestinationId).CityName),onSave:m,save:!1,type:"monthly"},t)})})):Object(O.jsx)("p",{children:"loading..."})})]})]})},B=a(803),F=a(807),G=(a(794),"data:image/png;base64,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"),Q=a(370),R=a(371),z=Object(R.a)("user"),V=function e(t){Object(P.a)(this,e),Object.defineProperty(this,z,{writable:!0,value:void 0}),this.id=t.id,this.username=t.get("username"),this.fname=t.get("fname"),this.lname=t.get("lname"),this.email=t.get("email"),Object(Q.a)(this,z)[z]=t};var K=function(e){var t=e.activeUser,a=e.onSignUp,r=Object(n.useState)(),c=Object(i.a)(r,2),s=c[0],o=c[1],l=Object(n.useState)(),u=Object(i.a)(l,2),b=u[0],p=u[1],f=Object(n.useState)(),x=Object(i.a)(f,2),m=x[0],v=x[1],y=Object(n.useState)(),C=Object(i.a)(y,2),k=C[0],I=C[1],L=Object(n.useState)(),S=Object(i.a)(L,2),A=S[0],N=S[1],P=Object(n.useState)(),T=Object(i.a)(P,2),M=T[0],U=T[1],q=Object(n.useState)(!1),E=Object(i.a)(q,2),Q=E[0],R=E[1],z=Object(n.useState)(),K=Object(i.a)(z,2),H=K[0],J=K[1];if(t)return Object(O.jsx)(D.a,{to:"/"});var W=!0;return s&&b&&m&&k&&A&&M&&Q&&(W=!1),console.log(H),Object(O.jsx)("p",{className:"p-signup",children:Object(O.jsxs)(B.a,{children:[Object(O.jsxs)("h3",{children:[Object(O.jsx)("img",{width:"25px",src:G}),"  Sky Flight"]}),Object(O.jsx)("h1",{children:"Signup to continue"}),H?Object(O.jsx)(F.a,{variant:"danger",children:H}):null,Object(O.jsxs)(j.a,{children:[Object(O.jsxs)(j.a.Group,{controlId:"formBasicText",children:[Object(O.jsx)(j.a.Label,{children:"User name"}),Object(O.jsx)(j.a.Control,{required:!0,type:"text",placeholder:"Enter username",value:s,onChange:function(e){return o(e.target.value)}})]}),Object(O.jsxs)(j.a.Group,{controlId:"formBasicText",children:[Object(O.jsx)(j.a.Label,{children:"First name"}),Object(O.jsx)(j.a.Control,{required:!0,type:"text",placeholder:"Enter first name",value:b,onChange:function(e){return p(e.target.value)}})]}),Object(O.jsxs)(j.a.Group,{controlId:"formBasicText",children:[Object(O.jsx)(j.a.Label,{children:"Last name"}),Object(O.jsx)(j.a.Control,{required:!0,type:"text",placeholder:"Enter last name",value:m,onChange:function(e){return v(e.target.value)}})]}),Object(O.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(O.jsx)(j.a.Label,{children:"Email address"}),Object(O.jsx)(j.a.Control,{required:!0,type:"email",placeholder:"Enter email",value:k,onChange:function(e){return I(e.target.value)}})]}),Object(O.jsxs)(j.a.Group,{controlId:"formBasicPassword",children:[Object(O.jsx)(j.a.Label,{children:"Password"}),Object(O.jsx)(j.a.Control,{required:!0,type:"password",placeholder:"Enter Password",value:A,onChange:function(e){return N(e.target.value)}})]}),Object(O.jsxs)(j.a.Group,{controlId:"formBasicPassword",children:[Object(O.jsx)(j.a.Label,{children:"Verify Password"}),Object(O.jsx)(j.a.Control,{required:!0,type:"password",placeholder:"Enter Password again",value:M,onChange:function(e){return U(e.target.value)}})]}),Object(O.jsx)(j.a.Group,{controlId:"formBasicCheckbox",children:Object(O.jsx)(j.a.Check,{type:"checkbox",label:"Agree to terms and conditions",onChange:function(){return R(!Q)}})}),Object(O.jsx)(g.a,{variant:"primary",type:"submit",onClick:function(e){e.preventDefault(e),A===M&&Object(h.a)(d.a.mark((function e(){var t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new w.a.User).set("username",s),t.set("email",k),t.set("fname",b),t.set("lname",m),t.set("password",A),e.prev=6,e.next=9,t.signUp();case 9:n=e.sent,console.log("User signed up",n),n.message?(console.Alert("Error while signing up user",n.message),J(n.message)):(r=new V(n),console.log("user of UserModel",r),a(r)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(6),console.error("Error while signing up user",e.t0),J(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[6,14]])})))()},block:!0,disabled:W,children:"Sign up"})]})]})})},H=(a(795),a(87));var J=function(e){var t=e.activeUser,a=e.onLogin,r=Object(n.useState)(),c=Object(i.a)(r,2),s=c[0],o=c[1],l=Object(n.useState)(),u=Object(i.a)(l,2),d=u[0],h=u[1],b=Object(n.useState)(),p=Object(i.a)(b,2),f=p[0],x=p[1];return t?Object(O.jsx)(D.a,{to:"/"}):Object(O.jsx)("div",{className:"p-login",children:Object(O.jsxs)(B.a,{children:[Object(O.jsxs)("h3",{children:[Object(O.jsx)("img",{width:"25px",src:G}),"  Sky Flight"]}),Object(O.jsx)("h1",{children:"Login to continue"}),f?Object(O.jsx)(F.a,{variant:"danger",children:f}):null," ",Object(O.jsxs)(j.a,{children:[Object(O.jsxs)(j.a.Group,{controlId:"formBasicEmail",children:[Object(O.jsx)(j.a.Label,{children:"Email address"}),Object(O.jsx)(j.a.Control,{type:"email",placeholder:"Enter email",value:s,onChange:function(e){return o(e.target.value)}})]}),Object(O.jsxs)(j.a.Group,{controlId:"formBasicPassword",children:[Object(O.jsx)(j.a.Label,{children:"Password"}),Object(O.jsx)(j.a.Control,{type:"password",placeholder:"Password",value:d,onChange:function(e){return h(e.target.value)}})]}),Object(O.jsx)(g.a,{variant:"success",type:"submit",onClick:function(e){e.preventDefault(e),w.a.User.logIn(s,d).then((function(e){console.log("Logged in user",e);var t=new V(e);console.log("user of UserModel",t),a(t)})).catch((function(e){x(e),console.error("Error while logging in user",e)}))},block:!0,children:"Log In"}),Object(O.jsx)(H.b,{to:"/signup",children:"create new account"})]})]})})},W=a(806),X=a(808);a(796);var Z=function(e){var t=e.activeUser,a=e.onLogOut;return Object(O.jsx)("div",{className:"c-custom-nav",children:Object(O.jsxs)(W.a,{bg:"dark",variant:"dark",expand:"lg",children:[Object(O.jsx)(W.a.Brand,{href:"#/",children:Object(O.jsx)("img",{className:"img",src:G})}),Object(O.jsx)(W.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(O.jsxs)(W.a.Collapse,{id:"basic-navbar-nav",children:[Object(O.jsxs)(X.a,{className:"mr-auto",children:[Object(O.jsx)(X.a.Link,{href:"#/",children:"Home"}),Object(O.jsx)(X.a.Link,{href:"#/search-flight",children:"Search Flight"}),t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(X.a.Link,{href:"#/deals",children:"Deals"}),Object(O.jsx)(X.a.Link,{href:"#/my-fav-flights",children:"My Flights"})]}):null]}),Object(O.jsxs)(X.a,{className:"ml-auto",children:[t?null:Object(O.jsx)(X.a.Link,{href:"#/login",children:"Login"}),t?null:Object(O.jsx)(X.a.Link,{href:"#/signup",children:"Signup"}),t?Object(O.jsx)(X.a.Link,{href:"#",onClick:function(){return a()},children:"Logout"}):null]})]})]})})};var Y=function(){Object(n.useEffect)((function(){l.a.get("/flights-management-app".concat("/geoData.json")).then((function(e){var t=new Map,a=new Map;e.data.Continents.forEach((function(e){return e.Countries.forEach((function(e){a.set(e.Name,e),e.Cities.forEach((function(a){a.Country=e.Name,t.set(a.Name,a)}))}))})),r([a,t]),console.log("GEO MAP countries",a),console.log("GEO MAP cities",t),console.log("GEO MAP - example",t.get("DLZA").Name)})).catch((function(e){return console.error(e)}));l.a.request({method:"GET",url:"https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsequotes/v1.0/il/ils/il/il/anywhere/anytime/anytime",headers:{"x-rapidapi-key":"cdc00ae67amsh7ae44a7423a7a49p12b1aejsn6bd7ce98384d","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com"}}).then((function(e){u(e.data),console.log("BrowseQuotesInbound: "),console.log(e.data)})).catch((function(e){console.error(e)}));var e=(new Date).getMonth()+1,t=(new Date).getFullYear(),a={method:"GET",url:"https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsequotes/v1.0/il/ils/il/il/anywhere/"+t+"-"+(e=e<10?"0"+e:e)+"/"+t,headers:{"x-rapidapi-key":"cdc00ae67amsh7ae44a7423a7a49p12b1aejsn6bd7ce98384d","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com"}};l.a.request(a).then((function(e){b(e.data),console.log("Monthly: "),console.log(e.data)})).catch((function(e){console.error(e)}));l.a.request({method:"GET",url:"https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsedates/v1.0/il/ils/il/elat/pari/anytime/anytime",headers:{"x-rapidapi-key":"cdc00ae67amsh7ae44a7423a7a49p12b1aejsn6bd7ce98384d","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com"}}).then((function(e){console.log("BrowseDatesInbound: "),console.log(e.data)})).catch((function(e){console.error(e)}));l.a.request({method:"GET",url:"https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/UK/GBP/en-GB/",params:{query:"israel"},headers:{"x-rapidapi-key":"a94342958cmsh1dbb3ae79906020p1a4c7ajsn53656455ddcb","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com"}}).then((function(e){console.log("my place"),console.log(e.data)})).catch((function(e){console.error(e)}));l.a.request({method:"GET",url:"https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/UK/GBP/en-GB/",params:{id:"elat"},headers:{"x-rapidapi-key":"a94342958cmsh1dbb3ae79906020p1a4c7ajsn53656455ddcb","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com"}}).then((function(e){console.log("my id"),console.log(e.data)})).catch((function(e){console.error(e)}))}),[]);var e=Object(n.useState)([new Map,new Map]),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(),s=Object(i.a)(c,2),o=s[0],u=s[1],d=Object(n.useState)(),h=Object(i.a)(d,2),j=h[0],b=h[1],g=Object(n.useState)(w.a.User.current()?new V(w.a.User.current()):null),p=Object(i.a)(g,2),f=p[0],x=p[1];return console.log("locations",a[1]),Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(Z,{activeUser:f,onLogOut:function(){x(null),w.a.User.logOut()}}),Object(O.jsx)(H.a,{children:Object(O.jsxs)(D.d,{children:[Object(O.jsx)(D.b,{exact:!0,path:"/",children:Object(O.jsx)(S,{activeUser:f})}),Object(O.jsx)(D.b,{exact:!0,path:"/login",children:Object(O.jsx)(J,{activeUser:f,onLogin:function(e){return x(e)}})}),Object(O.jsx)(D.b,{exact:!0,path:"/signup",children:Object(O.jsx)(K,{activeUser:f,onSignUp:function(e){return x(e)}})}),Object(O.jsx)(D.b,{exact:!0,path:"/deals",children:Object(O.jsx)(E,{activeUser:f,deals:o,month:j,citiesList:a[1]})}),Object(O.jsx)(D.b,{exact:!0,path:"/search-flight",children:Object(O.jsx)(I,{activeUser:f,cities:a[1],countries:a[0],citiesValue:Array.from(a[1].keys()),countriesValue:Array.from(a[0].keys())})}),Object(O.jsx)(D.b,{exact:!0,path:"/my-fav-flights",children:Object(O.jsx)(M,{activeUser:f})}),Object(O.jsx)(D.b,{path:"/",children:Object(O.jsx)(A,{})})]})})]})},_=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,810)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};a(797),a(798);w.a.serverURL="https://parseapi.back4app.com",w.a.initialize("GM7NPagiW51V4DJFTrpf5LuUL5DoheJTTyquuIs1","gAeVBSL21IKOR7ylAIbrgA12MpAo8da161YEFicS"),s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(Y,{})}),document.getElementById("root")),_()}},[[799,1,2]]]);
//# sourceMappingURL=main.b035c4d2.chunk.js.map